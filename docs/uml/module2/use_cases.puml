@startuml
title Módulo 2: Institución (solo info; CRUD en Django Admin)
left to right direction

actor Admin
actor Tutor
actor Estudiante

rectangle "Módulo 2: Institución como Entidad Informativa" {
  usecase "Gestionar instituciones\nen Django Admin" as UC_ManageInst
  usecase "Ver mi institución\n(Tutor - Read-Only)" as UC_ViewInstTutor
  usecase "Ver mi institución\n(Estudiante - Read-Only)" as UC_ViewInstStudent
  
  usecase "Ver estadísticas" as UC_Stats
  usecase "Ver info de contacto" as UC_Contact
  usecase "Ver mis cursos" as UC_MyCourses
  usecase "Ver mis tutores" as UC_MyTutors
  
  usecase "ERROR: Modificación\nno autorizada" as E_403
  usecase "ERROR: Sin acceso\na institución" as E_NoAccess
}

Admin --> UC_ManageInst : "Solo en /admin/"

Tutor --> UC_ViewInstTutor
Tutor --> UC_Stats
Tutor --> UC_MyCourses

Estudiante --> UC_ViewInstStudent
Estudiante --> UC_Contact
Estudiante --> UC_MyCourses
Estudiante --> UC_MyTutors

UC_ViewInstTutor ..> E_403 : <<extend>>
UC_ViewInstStudent ..> E_403 : <<extend>>
UC_ViewInstTutor ..> E_NoAccess : <<extend>>
UC_ViewInstStudent ..> E_NoAccess : <<extend>>

note right of UC_ManageInst
  **REGLA CLAVE:**
  Todo CRUD de Institution
  vive en Django Admin.
  NO hay vistas/templates
  de admin en la app.
end note

note bottom of UC_ViewInstTutor
  Ruta: /i/<slug>/tutor/my-institution/
  Template: tutor_institution.html
  Decorator: @tutor_required
end note

note bottom of UC_ViewInstStudent
  Ruta: /i/<slug>/student/my-institution/
  Template: student_institution.html
  Decorator: @student_required
end note
@enduml
